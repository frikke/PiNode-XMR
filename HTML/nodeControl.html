<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Title  -->
    <title>PiNode-XMR - Node Control</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- Load Ajax -->
    <script src="assets/js/jquery.min.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/XMR.ico" />
    <!-- Font Awesome cdn -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!-- Custom Style Sheet -->
    <link rel="stylesheet" type="text/css" href="assets/css/app.css">
</head>

<body>
    <div id="NavContent"></div>

    <div class="container">
        <div class="row my-4">
            <div class="col-md-12">
                <h2 class="font-weight-bold">Node Control <small>& Advanced Settings</small></h2>
                <p><span>Use this page to start and stop your node in one mode that best suits your needs. Changes can also be made here to fine tune configurations.<br>
                        <br>
                        If configuration changes are made after a Monero instance has been selected to run, it will require a restart before the changes take effect. You can use the "Reboot Node" buttons for this.
                    </span></p>
            </div><!-- col -->
        </div><!-- row -->
    </div><!-- /container -->

    <hr>

    <div class="container py-4">
        <div class="row my-4">
            <div class="col-md-12">
                <h3 class="font-weight-bold">Clearnet Networks: <small>Transact via Clearnet</small></h3>
                <p>These nodes are run using all the standard privacy tools that Monero offers.<br>
                    <br>
                    Connections are made via IPv4.</p>
            </div><!-- col -->
        </div><!-- /row -->
    </div><!-- /container -->


    <!-- Start Accodian 1-->
    <div class="container">
        <div class="accordion" id="accordionExample1">
            <div class="card border-1">
                <div class="card-header" id="headingOne">
                    <h5 class="mb-0">
                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            <i class="fas fa-arrows-alt-v"></i>Private Node: <small>Requiring RPC login</small>
                        </button>
                    </h5>
                </div>

                <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample1">
                    <div class="card-body">
                        <div class="container-fluid">
                            <h3>Private Node: <small> Requiring RPC login</small></h3>
                            <p><small>Use this mode to run your own personal node. When connecting an external wallet you will need the RPC username and password you have configured in the web terminal menu to use this service. [clearnet]</small></p>

                            <div class="row">
                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('start-moneroPrivate')" href="#Start Monerod" class="btn btn-block btn-lg btn-dark">Start Private Node</a>
                                </div>

                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('stop-moneroPrivate')" href="#Stop Monerod" class="btn btn-block btn-lg btn-dark">Stop Private Node</a>
                                </div>
                            </div><!-- /row -->
                        </div><!-- /container -->
                    </div>
                </div>
            </div>

            <div class="card border-1">
                <div class="card-header" id="headingTwo">
                    <h5 class="mb-0">
                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            <i class="fas fa-arrows-alt-v"></i>Public Node: <small>Free External RPC</small>
                        </button>
                    </h5>
                </div>

                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample1">
                    <div class="card-body">
                        <div class="container py-4">
                            <h3>Public Node: <small>Free External RPC</small></h3>
                            <p><small>This will run a full node and provide a restricted RPC port to allow wallet connections to your node. This port does not require hash payments or username and password. Free to all. [clearnet]</small></p>
                            <div class="row">
                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('start-moneroPublicFree')" href="#Start Public Free Node" class="btn btn-block btn-lg btn-dark">Start Free Public Node</a>
                                </div>

                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('stop-moneroPublicFree')" href="#Stop Monerod" class="btn btn-block btn-lg btn-dark">Stop Free Public Node</a>
                                </div>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col-md-6">
                                    <h6>External Free Access Port Number:</h6>
                                    <p><small>The following port is set is allow for safe (restricted) access to this node. You will need to allow port-forwarding in your router settings for this port to allow external access. This port number can be changed in the 'Global Settings' section at the bottom of this page.</small></p>
                                    <pre class="monero-rpc-port imported-text"></pre>
                                </div><!-- /col -->

                                <div class="col-md-6">
                                    <h6>Set Custom Unrestricted RPC Port:</h6>
                                    <p><small>Because this option is open and free to the public (once you forward the RPC port number from the Global Settings section) it is run on a restriced port. An unrestriced RPC port is made available on the number below and is used for local only status outputs. Do not expose the port below.</small></p>
                                    <div class="input-group">
                                        <form method="post">
                                            <input type="number" id="freePort" placeholder="New port" class="form-control">
                                            <button type="submit" onclick="freeport(freePort.value)" class="btn btn-block btn-dark my-1">Save</button>
                                        </form>
                                    </div><!-- input-group -->

                                    <pre class="monero-free-public-port imported-text"></pre>

                                    <script type="text/javascript">
                                        function freeport(value) {
                                            $.ajax({
                                                url: "monero-port-public-free.php",
                                                type: "POST",
                                                data: ({ value }),
                                                dataType: 'text',
                                                success: function (result) {
                                                    alert(result);
                                                }
                                            });
                                        }
                                        
                                        $.get("monero-free-public-port.txt", function (data) {
                                            $(".monero-free-public-port").html(data);
                                        });
                                    </script>
                                </div><!-- /col -->
                            </div><!-- /row -->
                        </div><!-- /container -->
                    </div>
                </div>
            </div>

            <div class="card border-1">
                <div class="card-header" id="headingThree">
                    <h5 class="mb-0">
                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            <i class="fas fa-arrows-alt-v"></i>Public Node: <small>Requires RPC Pay</small>
                        </button>
                    </h5>
                </div>

                <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample1">
                    <div class="card-body">
                        <div class="container py-4">
                            <div class="row">
                                <div class="col-md-12 mb-4">
                                    <h3>Public Node: <small>External RPC requiring RPC Pay</small></h3>
                                    <p><small>This mode can be used to make your PiNode-XMR available to the public for their wallet sync purposes and transaction sending. It will require payment as hashes in exchange for the service. This enables you to receive payment for your PiNode-XMRs work over a large number of calls. This system behaves similarly to a solo mining pool. [clearnet]</small></p>
                                </div><!-- col -->
                            </div><!-- row -->

                            <div class="row">
                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('start-moneroPublicRPCPay')" href="#Start Public Node" class="btn btn-block btn-lg btn-dark">Start RPC Pay Node</a>
                                </div> <!-- col -->

                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('stop-moneroPublicRPCPay')" href="#Stop Public Node" class="btn btn-block btn-lg btn-dark">Stop RPC Pay Node</a>
                                </div><!-- col -->
                            </div><!-- row -->

                            <div class="row">
                                <div class="col-12">
                                    <div class="form-group">
                                        <h6>Set Payment Address</h6>
                                        <form method="post">
                                            <input type="text" id="RPCpayAddress" placeholder="Address" class="form-control col-8">
                                            <button type="submit" onclick="payment(RPCpayAddress.value)" class="btn btn-dark my-1">Save</button>
                                        </form>
                                    </div><!-- form group -->

                                    <pre class="payment-address imported-text"></pre>

                                    <script type="text/javascript">
                                        function payment(value) {
                                            $.ajax({
                                                url: "payment-address.php",
                                                type: "post",
                                                data: ({ value }),
                                                dataType: 'text',
                                                success: function (result) {
                                                    alert(result);
                                                }
                                            });
                                        };

                                        $.get("payment-address.txt", function (data) {
                                            $(".payment-address").html(data);
                                        });
                                    </script>
                                </div><!-- col -->
                            </div><!-- row -->

                            <div class="row">
                                <div class="col-4">
                                    <h6>Set RPC Pay Port</h6>
                                    <div class="form-group">
                                        <form method="post">
                                            <input type="number" id="RPCpayPort" placeholder="New port" class="form-control">
                                            <button type="submit" onclick="payport(RPCpayPort.value)" class="btn btn-dark my-1">Save</button>
                                        </form>
                                    </div><!-- form group -->

                                    <pre class="monero-port-rpc-pay imported-text"></pre>

                                    <script type="text/javascript">
                                        function payport(value) {
                                            $.ajax({
                                                url: "monero-port-rpc-pay.php",
                                                type: "post",
                                                data: ({ value }),
                                                dataType: 'text',
                                                success: function (result) {
                                                    alert(result);
                                                }
                                            });
                                        };

                                        $.get("monero-port-rpc-pay.txt", function (data) {
                                            $(".monero-port-rpc-pay").html(data);
                                        });
                                    </script>
                                </div><!-- /col -->

                                <div class="col-4">
                                    <h6>Credits Required</h6>

                                    <div class="form-group">
                                        <form method="post">
                                            <input type="number" id="RPCpayCredits" placeholder="Credits" class="form-control">
                                            <button type="submit" onclick="credits(RPCpayCredits.value)" class="btn btn-dark my-1">Save</button>
                                        </form>
                                    </div>

                                    <pre class="credits imported-text"></pre>

                                    <script type="text/javascript">
                                        function credits(value) {
                                            $.ajax({
                                                url: "credits.php",
                                                type: "post",
                                                data: ({ value }),
                                                dataType: 'text',
                                                success: function (result) {
                                                    alert(result);
                                                }
                                            });
                                        };

                                        $.get("credits.txt", function (data) {
                                            $(".credits").html(data);
                                        });
                                    </script>
                                </div><!-- /col -->

                                <div class="col-4">
                                    <h6>Difficulty</h6>
                                    <div class="form-group">
                                        <form method="post">
                                            <input type="text" id="RPCpayDifficulty" placeholder="Difficulty" class="form-control">
                                            <button type="submit" onclick="difficulty(RPCpayDifficulty.value)" class="btn btn-dark my-1">Save</button>
                                        </form>
                                    </div>

                                    <pre class="difficulty imported-text"></pre>

                                    <script type="text/javascript">
                                        function difficulty(value) {
                                            $.ajax({
                                                url: "difficulty.php",
                                                type: "post",
                                                data: ({ value }),
                                                dataType: 'text',
                                                success: function (result) {
                                                    alert(result);
                                                }
                                            });
                                        };

                                        $.get("difficulty.txt", function (data) {
                                            $(".difficulty").html(data);
                                        });
                                    </script>
                                </div><!-- /col -->
                            </div><!-- row -->
                        </div><!-- container -->
                    </div>
                </div>
            </div>

            <div class="card border-1">
                <div class="card-header" id="headingFour">
                    <h5 class="mb-0">
                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            <i class="fas fa-arrows-alt-v"></i>Mining: <small> Solo Mine On This Device</small>
                        </button>
                    </h5>
                </div>
                <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample1">
                    <div class="card-body">
                        <div class="container py-4">
                            <div class="row">
                                <h3>Mining</h3>
                                <p class="text-center"><small>This a full Private Node (Requires RPC login) with the additional function of solo mining on the device PiNode-XMR is running<br>
                                        Note:<br>
                                        Mining, by design  is CPU intensive and not suited to single board computers.<br>
                                        This feature has been added for experimental/educational purposes and thought should be given for your devices CPU cooling before activating to prevent physical damage. This feature may also handicap the speed this device verifies transactions and blocks.<br>
                                        *Note: Mining currently over clearnet only.
                                    </small></p>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('start-moneroMiningNode')" href="#Start Mining" class="btn btn-block btn-lg btn-dark">Start Solo Mining</a>
                                </div>

                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('stop-moneroMiningNode')" href="#Stop Mining" class="btn btn-block btn-lg btn-dark">Stop Solo Mining</a>
                                </div>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col-3">
                                    <h6>Set Your Mining Address</h6>
                                    <div class="form-group">
                                        <form method="post">
                                            <input type="text" id="MiningAddress" placeholder="Enter Mining Address" class="form-control">
                                            <button type="submit" onclick="address(MiningAddress.value)" class="btn btn-block btn-dark my-1">Save</button>
                                        </form>
                                    </div>
                                </div><!-- /col -->

                                <div class="col-6">
                                    <pre class="mining_address imported-text"></pre>
                                </div>

                                <script type="text/javascript">
                                    function address(value) {
                                        $.ajax({
                                            url: "mining-address.php",
                                            type: "post",
                                            data: ({ value }),
                                            dataType: 'text',
                                            success: function (result) {
                                                alert(result);
                                            }
                                        });
                                    };

                                    $.get("mining_address.txt", function (data) {
                                        $(".mining_address").html(data);
                                    });
                                </script>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col-3">
                                    <h6>Set Mining Intensity</h6>
                                    <div class="form-group">
                                        <form method="post">
                                            <input type="number" id="MiningIntensity" placeholder="Enter Mining Intensity" class="form-control">
                                            <button type="submit" onclick="intensity(MiningIntensity.value)" class="btn btn-block btn-dark my-1">Save</button>
                                        </form>
                                    </div>
                                </div><!-- /col -->

                                <div class="col-6">
                                    <pre class="mining_intensity imported-text"></pre>
                                </div>

                                <script type="text/javascript">
                                    function intensity(value) {
                                        $.ajax({
                                            url: "mining-intensity.php",
                                            type: "post",
                                            data: ({ value }),
                                            dataType: 'text',
                                            success: function (result) {
                                                alert(result);
                                            }
                                        });
                                    };

                                    $.get("mining_intensity.txt", function (data) {
                                        $(".mining_intensity").html(data);
                                    });
                                </script>
                            </div><!-- /row -->
                        </div><!-- /container -->
                    </div><!-- /btn-group -->
                </div><!-- /container -->
            </div><!-- /card -->
        </div><!-- /accordion -->
    </div><!-- /container -->

    <div class="container py-4">
        <div class="row my-4">
            <div class="col-md-12">
                <h3 class="font-weight-bold">Anonymity Networks <small>Transact via tor or I2P</small></h3>
                <p>These nodes run as a private node (RPC login required) with the added benefit of broadcasting
                    your transactions exclusively over an anonymity network. This can assist in obscuring the origin (node ID/IP) of a transaction you broadcast if used correctly in addition to the Dandilion++ protocol used by default<br>
                    <br>
                    The node will still use IPv4 clearnet for syncronisation<br>
                    <br>
                    For more information on how this 'bridging' mode works see <a href="https://github.com/shermand100/PiNodeXMR/wiki/Manual#tor" target="_blank">https://github.com/shermand100/PiNodeXMR/wiki/Manual#tor</a>
                </p>
            </div><!-- col -->
        </div><!-- /row -->
    </div><!-- /container -->

    <!-- Start Accodian 2-->
    <div class="container">
        <div class="accordion" id="accordionExample2">
            <div class="card border-1">
                <div class="card-header" id="headingFive">
                    <h5 class="mb-0">
                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                            <i class="fas fa-arrows-alt-v"></i>TOR: <small>Private Bridging Node</small>
                        </button>
                    </h5>
                </div>

                <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordionExample2">
                    <div class="card-body">
                        <div class="container py-4">
                            <div class="row">
                                <h3 class="float-left">TOR: <small>Private Bridging Node</small></h3>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col-2">
                                    <h6>Public Address</h6>
                                </div><!-- /.col -->
                                <div class="col">
                                    <pre class="onion-address imported-text"></pre>
                                </div><!-- /.col -->
                            </div><!-- /row -->
                            <div class="row">
                                <p><small>This address is unique to your PiNode-XMR. It was generated when you installed tor, and will not change.<br>
                                        To ensure a robust configuration some settings cannot be changed<br>
                                        You can make RPC connections remotely from a "tor-ified" wallet using your .onion hostname, port 18081, RPC username & password. Non-tor RPC connections should also be possible on your local network with PiNodeXMR-IP and Port 18081.
                                    </small></p>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col">
                                    <a onclick="runScript('start-moneroTorPrivate')" href="#start-monero-tor" class="btn btn-block btn-lg btn-dark">Start Monerod - [tor Bridge]</a>
                                </div><!-- /.col -->

                                <div class="col">
                                    <a onclick="runScript('stop-moneroTorPrivate')" href="#stop-monero-tor" class="btn btn-block btn-lg btn-dark">Stop Monerod - [tor Bridge]</a>
                                </div><!-- /.col -->
                            </div><!-- /row -->
                        </div><!-- /container -->
                    </div>
                </div>
            </div>

            <div class="card border-1">
                <div class="card-header" id="headingFive-A">
                    <h5 class="mb-0">
                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseFive-A" aria-expanded="false" aria-controls="collapseFive-A">
                            <i class="fas fa-arrows-alt-v"></i>TOR: <small>Public Bridging Node</small>
                        </button>
                    </h5>
                </div>

                <div id="collapseFive-A" class="collapse" aria-labelledby="headingFive-A" data-parent="#accordionExample2">
                    <div class="card-body">
                        <div class="container py-4">
                            <div class="row">
                                <h3 class="float-left">TOR: <small>Public Bridging Node</small></h3>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col-2">
                                    <h6>Public Address</h6>
                                </div><!-- /.col -->
                                <div class="col">
                                    <pre class="onion-address imported-text"></pre>
                                </div><!-- /.col -->
                            </div><!-- /row -->
                            <div class="row">
                                <p><small>This address is unique to your PiNode-XMR. It was generated when you installed tor, and will not change.<br>
                                        To ensure a robust configuration some settings cannot be changed<br>
                                        Anyone can make RPC connections remotely from a "tor-ified" wallet using your .onion hostname, port
                                        18081. Non-tor RPC  connections should also be possible on your local network with PiNodeXMR-IP and Port 18081.
                                    </small></p>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col">
                                    <a onclick="runScript('start-moneroTorPublic')" href="#start-monero-tor-public" class="btn btn-block btn-lg btn-dark">Start Monerod - [tor Bridge]</a>
                                </div><!-- /.col -->

                                <div class="col">
                                    <a onclick="runScript('stop-moneroTorPublic')" href="#stop-monero-tor-public" class="btn btn-block btn-lg btn-dark">Stop Monerod - [tor Bridge]</a>
                                </div><!-- /.col -->
                            </div><!-- /row -->
                        </div><!-- /container -->
                    </div>
                </div>
                <script type="text/javascript">
                    $.get("onion-address.txt", function (data) {
                        $(".onion-address").html(data);
                    });
                </script>
            </div>

            <div class="card border-1">
                <div class="card-header" id="headingSix">
                    <h5 class="mb-0">
                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse"  data-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                            <i class="fas fa-arrows-alt-v"></i>I2P: <small>Private Bridging Node</small>
                        </button>
                    </h5>
                </div>

                <div id="collapseSix" class="collapse" aria-labelledby="headingSix" data-parent="#accordionExample2">
                    <div class="card-body">
                        <div class="container py-4">
                            <div class="row">
                                <h3 class="float-left">I2P: <small>Private Bridging Node</small></h3>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col">
                                    <a onclick="runScript('start-moneroI2PPrivate')" href="#start-monero-i2p" class="btn btn-block btn-lg btn-dark">Start Monerod - [I2P Bridge]</a>
                                </div><!-- /.col -->

                                <div class="col">
                                    <a onclick="runScript('stop-moneroI2PPrivate')" href="#stop-monero-i2p" class="btn btn-block btn-lg btn-dark">Stop Monerod - [I2P Bridge]</a>
                                </div>
                            </div><!-- /row -->

                            <div class="row mt-4">
                                <h6>I2P Configuration:</h6>
                            </div><!-- /.row -->

                            <div class="row">
                                <div class="col-3">
                                    <h6>Set your I2P Server address:</h6>
                                </div><!-- /col -->

                                <div class="col-4">
                                    <div class="form-group">
                                        <form method="post">
                                            <input type="text" id="i2pAddress" placeholder="Enter I2P Address" class="form-control">
                                            <button type="submit" onclick="i2paddress(i2pAddress.value)" class="btn btn-dark my-1">Save</button>
                                        </form>
                                    </div>
                                </div><!-- /col -->

                                <div class="col-4">
                                    <pre class="i2p-address imported-text"></pre>
                                </div><!-- /.col -->

                                <script type="text/javascript">
                                    function i2paddress(value) {
                                        $.ajax({
                                            url: "i2p-address.php",
                                            type: "post",
                                            data: ({ value }),
                                            dataType: 'text',
                                            success: function (result) {
                                                alert(result);
                                            }
                                        });
                                    };

                                    $.get("i2p-address.txt", function (data) {
                                        $(".i2p-address").html(data);
                                    });
                                </script>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col-3">
                                    <h6>Set your I2P Server port:</h6>
                                </div><!-- /col -->

                                <div class="col-2">
                                    <div class="form-group">
                                        <form method="post">
                                            <input type="text" id="i2pPort" placeholder="Enter I2P Port" class="form-control">
                                            <button type="submit" onclick="i2pport(i2pPort.value)" class="btn btn-dark my-1">Save</button>
                                        </form>
                                    </div>
                                </div><!-- /col -->

                                <div class="col-3">
                                    <pre class="i2p-port imported-text"></pre>
                                </div><!-- /.col -->

                                <script type="text/javascript">
                                    function i2pport(value) {
                                        $.ajax({
                                            url: "i2p-port.php",
                                            type: "post",
                                            data: ({ value }),
                                            dataType: 'text',
                                            success: function (result) {
                                                alert(result);
                                            }
                                        });
                                    };

                                    $.get("i2p-port.txt", function (data) {
                                        $(".i2p-port").html(data);
                                    });
                                </script>
                            </div><!-- /row -->

                            <div class="row">
                                <div class="col-3">
                                    <h6>Set your I2P TX-Proxy port:</h6>
                                </div><!-- /col -->

                                <div class="col-2">
                                    <div class="form-group">
                                        <form method="post">
                                            <input type="text" id="i2pTxProxyPort" placeholder="I2P TX-Proxy Port" class="form-control">
                                            <button type="submit" onclick="i2ptxproxyport(i2pTxProxyPort.value)" class="btn btn-dark my-1">Save</button>
                                        </form>
                                    </div>
                                </div><!-- /col -->

                                <div class="col-3">
                                    <pre class="i2p-tx-proxy-port imported-text"></pre>
                                </div><!-- /.col -->

                                <script type="text/javascript">
                                    function i2ptxproxyport(value) {
                                        $.ajax({
                                            url: "i2p-tx-proxy-port.php",
                                            type: "post",
                                            data: ({ value }),
                                            dataType: 'text',
                                            success: function (result) {
                                                alert(result);
                                            }
                                        });
                                    };

                                    $.get("i2p-tx-proxy-port.txt", function (data) {
                                        $(".i2p-tx-proxy-port").html(data);
                                    });
                                </script>
                            </div><!-- /row -->
                        </div><!-- /container -->
                    </div>
                </div>
            </div>
        </div>
    </div><!-- container -->

    <div class="container py-4">
        <div class="row my-4">
            <div class="col-md-12">
                <h3 class="font-weight-bold">Custom Node <small>configure personalised run options</small></h3>
                <p>This sections allows a user comfortable with monero settings to customise their own startup options.</p>
            </div><!-- col -->
        </div><!-- /row -->
    </div><!-- /container -->

    <!-- Start Accodian 3-->
    <div class="container">
        <div class="accordion" id="accordionExample3">
            <div class="card border-1">
                <div class="card-header" id="headingSeven">
                    <h5 class="mb-0">
                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseSeven" aria-expanded="true" aria-controls="collapseSeven">
                            <i class="fas fa-arrows-alt-v"></i>Custom Configuration: <small>view/edit run conditions</small>
                        </button>
                    </h5>
                </div>

                <div id="collapseSeven" class="collapse" aria-labelledby="headingSeven"
                    data-parent="#accordionExample3">
                    <div class="card-body">
                        <div class="container-fluid">
                            <h3 class="mb-2">Custom Node: <small> personalised run options</small></h3>
                            <p>Use this mode to run your own personal node with custom settings outside of the scope of
                                the variables I allow you to change in the "global settings" tab. Be aware this is for
                                advanced users. *TIP* Be mindful that currently the systemd service that activates this
                                script has TYPE:forking and so works with the monero --detached flag, specifically the
                                tor/I2P modes require TYPE=simple. This advanced mode will continue to develop. The
                                placeholder example in your entry box will not change but can be used as an example.
                                More examples can be found below.<br>
                                <br>
                                This mode has no access to variables. Every $VALUE must be replaced by a valid string/num<br>
                                <br>
                                current config:
                            </p>
                            <pre class="user-set-custom imported-text"></pre>

                            <div class="row">
                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('start-moneroCustomNode')" href="#Start Custom" class="btn btn-block btn-lg btn-dark">Start Custom Node&nbsp;<i class="fas fa-circle-play"></i></a>
                                </div>

                                <div class="col-lg-4 mb-4">
                                    <a onclick="runScript('stop-moneroCustomNode')" href="#Stop Custom" class="btn btn-block btn-lg btn-dark">Stop Custom Node&nbsp;<i class="fas fa-hand"></i></a>
                                </div>
                            </div> <!-- /row -->

                            <p>Set your custom options below and click 'save' to apply changes:</p>
                            <form method="post">
                                <textarea name="custom-setting" id="customSetting" rows="6" cols="100%" style="overflow:auto;resize:none"
                                    placeholder="./monerod --rpc-bind-ip=$DEVICE_IP --zmq-pub tcp://$DEVICE_IP:18083 --rpc-bind-port=$MONERO_PORT --confirm-external-bind --rpc-login=$username:$password --rpc-ssl disabled --max-log-file-size=10485760 --log-level=1 --max-log-files=1 --pidfile /home/pinodexmr/monero/build/release/bin/monerod.pid --enable-dns-blocklist --detach"></textarea>
                                <br><button onclick="savebutton(customSetting.value)" class="btn btn-dark m-2" type="submit">Save</button>
                            </form>

                            <script>
                                function savebutton(value) {
                                    $.ajax({
                                        url: "save-custom.php", //the page containing php script
                                        type: "POST", //request type
                                        data: ({ value }),
                                        success: function (result) {
                                            alert(result);
                                        }
                                    });
                                }

                                $.get("user-set-custom.txt", function (data) {
                                    $(".user-set-custom").html(data);
                                });
                            </script>

                            <div class="card border-1">
                                <div class="card-header" id="headingExamples">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseExamples" aria-expanded="false" aria-controls="collapseExamples">
                                            <i class="fas fa-info"></i>Example configs
                                        </button>
                                    </h5>
                                </div>
                                <div id="collapseExamples" class="collapse" aria-labelledby="headingExamples" data-parent="#headingExamples">
                                    <div class="card-body">
                                        <div class="container">
                                            <div class="row">
                                                <h3>Examples: <small>...</small></h3>
                                            </div>

                                            <div class="row">
                                                <p>*These are a few examples:</p>
                                            </div>

                                                <h6>Public Free Node</h6>
                                                <textarea class="form-control" style="width:100%; height:110px;" onclick="this.focus();this.select()" readonly="readonly">./monerod --rpc-bind-ip=0.0.0.0 --rpc-bind-port=$MONERO_PUBLIC_PORT --zmq-pub tcp://$DEVICE_IP:18083 --rpc-restricted-bind-ip=$DEVICE_IP --rpc-restricted-bind-port=$MONERO_PORT --confirm-external-bind --rpc-ssl disabled --in-peers=$IN_PEERS --out-peers=$OUT_PEERS --limit-rate-up=$LIMIT_RATE_UP --limit-rate-down=$LIMIT_RATE_DOWN --max-log-file-size=10485760 --log-level=1 --max-log-files=1 --pidfile /home/pinodexmr/monero/build/release/bin/monerod.pid --public-node --enable-dns-blocklist --detach</textarea>
                                                <hr>
                                                <h6>RPC PayNode</h6>
                                                <textarea class="form-control" style="width:100%; height:110px;" onclick="this.focus();this.select()" readonly="readonly">./monerod --rpc-bind-ip=$DEVICE_IP --rpc-bind-port=$MONERO_PORT --zmq-pub tcp://$DEVICE_IP:18083 --rpc-restricted-bind-port=$MONERO_RPCPAY_PORT --confirm-external-bind --rpc-payment-allow-free-loopback --rpc-ssl disabled --in-peers=$IN_PEERS --out-peers=$OUT_PEERS --limit-rate-up=$LIMIT_RATE_UP --limit-rate-down=$LIMIT_RATE_DOWN --max-log-file-size=10485760 --log-level=1 --max-log-files=1 --pidfile /home/pinodexmr/monero/build/release/bin/monerod.pid --rpc-payment-address=$PAYMENT_ADDRESS --rpc-payment-credits=$CREDITS --rpc-payment-difficulty=$DIFFICULTY --public-node --enable-dns-blocklist --detach</textarea>
                                                <hr>
                                                <h6>I2P Node</h6>
                                                <textarea class="form-control" style="width:100%; height:110px;" onclick="this.focus();this.select()" readonly="readonly">DNS_PUBLIC=tcp ./monerod --p2p-bind-ip 127.0.0.1 --rpc-bind-ip=$DEVICE_IP --rpc-bind-port=$MONERO_PORT --rpc-login=$RPCu:$RPCp --confirm-external-bind --anonymous-inbound $I2P_ADDRESS,127.0.0.1:$I2P_PORT --tx-proxy i2p,127.0.0.1:$I2P_TX_PROXY_PORT --rpc-ssl disabled --in-peers=$IN_PEERS --out-peers=$OUT_PEERS --limit-rate-up=$LIMIT_RATE_UP --limit-rate-down=$LIMIT_RATE_DOWN --max-log-file-size=10485760 --log-level=1 --max-log-files=1 --pidfile /home/pinodexmr/monero/build/release/bin/monerod.pid --enable-dns-blocklist --non-interactive</textarea>
                                                <hr>
                                                <h6>Tor Private Node</h6>
                                                <textarea class="form-control" style="width:100%; height:110px;" onclick="this.focus();this.select()" readonly="readonly">DNS_PUBLIC=tcp TORSOCKS_ALLOW_INBOUND=1 ./monero/build/release/bin/monerod --zmq-pub tcp://$DEVICE_IP:18083 --p2p-bind-ip 127.0.0.1 --no-igd --rpc-bind-ip=$DEVICE_IP --rpc-bind-port=18081 --tx-proxy tor,127.0.0.1:9050 --anonymous-inbound $ANONYMOUS_INBOUND --confirm-external-bind --rpc-login=$RPCu:$RPCp --rpc-ssl disabled --in-peers=$IN_PEERS --out-peers=$OUT_PEERS --limit-rate-up=$LIMIT_RATE_UP --limit-rate-down=$LIMIT_RATE_DOWN --max-log-file-size=10485760 --log-level=1 --max-log-files=1 --enable-dns-blocklist --non-interactive</textarea>
                                            </div><!-- row -->
                                        </div><!-- container -->
                                    </div>
                                </div>
                            </div><!-- /container -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container py-4">
            <div class="row my-4">
                <div class="col-md-12">
                    <h3 class="font-weight-bold">Global Settings: <small>System-wide Customisation</small></h3>
                    <p>Specify a custom RPC Port for wallet connections if required<br>Control bandwidth use by specifying the number of in/out peer connections, or directly limit data rate (kb/s)</p>
                </div><!-- col -->
            </div><!-- /row -->
        </div><!-- /container -->

        <!-- Start Accodian 4-->
        <div class="container">
            <div class="accordion" id="accordionExample4">
                <div class="card border-1">
                    <div class="card-header" id="headingEight">
                        <h5 class="mb-0">
                            <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseEight" aria-expanded="true" aria-controls="collapseEight">
                                <i class="fas fa-arrows-alt-v"></i>Network: <small>Global Settings</small>
                            </button>
                        </h5>
                    </div>

                    <div id="collapseEight" class="collapse" aria-labelledby="headingEight" data-parent="#accordionExample4">
                        <div class="card-body">
                            <div class="container py-4">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h2>Global settings:</h2>
                                    </div><!-- col -->
                                </div><!-- /row -->

                                <div class="row">
                                    <div class="col-4">
                                        <h6 class="pt-3">RPC Port:</h6>
                                        <div class="form-group">
                                            <form method="post">
                                                <input type="number" id="moneroRpcPort" placeholder="New Monero RPC Port" class="form-control">
                                                <button type="submit" onclick="monerorpcport(moneroRpcPort.value)" class="btn btn-dark my-1">Save</button>
                                            </form>
                                            <pre class="monero-rpc-port imported-text"></pre>
                                            <span>If needed, enter a new port number for RPC connections here. Used to connect your wallet to this node.</span>
                                        </div>
                                    </div>

                                    <script type="text/javascript">
                                        function monerorpcport(value) {
                                            $.ajax({
                                                url: "monero-rpc-port.php",
                                                type: "post",
                                                data: ({ value }),
                                                dataType: 'text',
                                                success: function (result) {
                                                    alert(result);
                                                }
                                            });
                                        };

                                        $.get("monero-rpc-port.txt", function (data) {
                                            $(".monero-rpc-port").html(data);
                                        });
                                    </script>
                                </div><!-- /row -->

                                <h3 class="pt-4">Bandwidth:</h3>
                                <h6>Optimization:</h6>
                                <p>By default the node can be bandwidth intensive in both upload and download. Limits on this node can be imposed below.<br>[Note: value -1 restores parameter to default]</p>

                                <div class="row">
                                    <div class="col">
                                        <h3>Upload <small>Mbps</small></h3>
                                        <div class="btn-group">
                                            <form method="post">
                                                <select name='Speed Up' class="btn btn-dark dropdown-toggle"
                                                    onchange='if(this.value != 0) { speedup(this.value); }'>
                                                    <option value='0'>Upload Speed</option>
                                                    <option value='256'>.25 Mbps</option>
                                                    <option value='512'>.5 Mbps</option>
                                                    <option value='1024'>1 Mbps</option>
                                                    <option value='1536'>1.5 Mbps</option>
                                                    <option value='-1'>2 Mbps [DEFAULT]</option>
                                                    <option value='2560'>2.5 Mbps</option>
                                                    <option value='3072'>3 Mbps</option>
                                                    <option value='3548'>3.5 Mbps</option>
                                                    <option value='4096'>4 Mbps</option>
                                                    <option value='4608'>4.5 Mbps</option>
                                                    <option value='5120'>5 Mbps</option>
                                                    <option value='10240'>10 Mbps</option>
                                                </select>
                                            </form>

                                            <script type="text/javascript">
                                                function speedup(value) {
                                                    $.ajax({
                                                        url: "speed_up.php", //the page containing php script
                                                        type: "POST", //request type
                                                        data: ({ value }),
                                                        success: function (result) {
                                                            alert(result);
                                                        }
                                                    });
                                                }
                                            </script>
                                        </div><!-- /btn-group -->
                                    </div><!-- /.col -->

                                    <div class="col">
                                        <h3>Download <small>Mbps</small></h3>
                                        <div class="btn-group">
                                            <form method="post">
                                                <select name='Speed Down' class="btn btn-dark dropdown-toggle"
                                                    onchange='if(this.value != 0) { speeddown(this.value); }'>
                                                    <option value='0'>Download Speed</option>
                                                    <option value='1024'>1 Mbps</option>
                                                    <option value='2048'>2 Mbps</option>
                                                    <option value='3072'>3 Mbps</option>
                                                    <option value='4096'>4 Mbps</option>
                                                    <option value='6144'>6 Mbps</option>
                                                    <option value='-1'>8 Mbps [DEFAULT]</option>
                                                    <option value='10240'>10 Mbps</option>
                                                    <option value='12228'>12 Mbps</option>
                                                    <option value='15360'>15 Mbps</option>
                                                    <option value='18432'>18 Mbps</option>
                                                    <option value='22528'>22 Mbps</option>
                                                    <option value='30720'>30 Mbps</option>
                                                </select>
                                            </form>

                                            <script type="text/javascript">
                                                function speeddown(value) {
                                                    $.ajax({
                                                        url: "speed_down.php", //the page containing php script
                                                        type: "POST", //request type
                                                        data: ({ value }),
                                                        success: function (result) {
                                                            alert(result);
                                                        }
                                                    });
                                                }
                                            </script>
                                        </div><!-- /btn-group -->
                                    </div><!-- /.col -->

                                    <div class="col">
                                        <h3>Out Peers</h3>
                                        <div class="btn-group">
                                            <form method="post">
                                                <select name='Out Peers' class="btn btn-dark dropdown-toggle"
                                                    onchange='if(this.value != 0) { outpeers(this.value); }'>
                                                    <option value='0'>Out Peers</option>
                                                    <option value='2'>2</option>
                                                    <option value='4'>4</option>
                                                    <option value='6'>6</option>
                                                    <option value='-1'>8 [DEFAULT]</option>
                                                    <option value='10'>10</option>
                                                    <option value='12'>12</option>
                                                    <option value='14'>14</option>
                                                    <option value='16'>16</option>
                                                    <option value='24'>24</option>
                                                    <option value='32'>32</option>
                                                </select>
                                            </form>

                                            <script type="text/javascript">
                                                function outpeers(value) {
                                                    $.ajax({
                                                        url: "out-peers.php", //the page containing php script
                                                        type: "POST", //request type
                                                        data: ({ value }),
                                                        success: function (result) {
                                                            alert(result);
                                                        }
                                                    });
                                                }
                                            </script>
                                        </div><!-- /btn-group -->
                                    </div><!-- /.col -->

                                    <div class="col">
                                        <h3>In Peers</h3>
                                        <div class="btn-group">
                                            <form method="post">
                                                <select name='In Peers' class="btn btn-dark dropdown-toggle"
                                                    onchange='if(this.value != 0) { inpeers(this.value); }'>
                                                    <option value='0'>In Peers</option>
                                                    <option value='-1'>DEFAULT [UNLIMITED]</option>
                                                    <option value='2'>2</option>
                                                    <option value='4'>4</option>
                                                    <option value='6'>6</option>
                                                    <option value='8'>8</option>
                                                    <option value='10'>10</option>
                                                    <option value='12'>12</option>
                                                    <option value='14'>14</option>
                                                    <option value='16'>16</option>
                                                </select>
                                            </form>

                                            <script type="text/javascript">
                                                function inpeers(value) {
                                                    $.ajax({
                                                        url: "in-peers.php", //the page containing php script
                                                        type: "POST", //request type
                                                        data: ({ value }),
                                                        success: function (result) {
                                                            alert(result);
                                                        }
                                                    });
                                                }
                                            </script>
                                        </div><!-- /btn-group -->
                                    </div><!-- /.col -->
                                </div><!-- /container -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card border-1">
                    <div class="card-header" id="headingNine">
                        <h5 class="mb-0">
                            <button class="btn btn-link badge badge-light" type="button" data-toggle="collapse" data-target="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
                                <i class="fas fa-arrows-alt-v"></i>2GB Swap File Enble/Disable
                            </button>
                        </h5>
                    </div>
                    <div id="collapseNine" class="collapse" aria-labelledby="headingNine" data-parent="#accordionExample4">
                        <div class="card-body">
                            <div class="container">
                                <div class="row">
                                    <h3>Swap File: <small>Enable/Disable</small></h3>
                                </div>

                                <div class="row">
                                    <p>*If your device has less than 2GB RAM this swap file should be used for large blockchain syncs and Monero updates. It can artificially augment system performance. Then to preserve SD card read/write life this should be disabled when not required.</p>
                                </div> <!-- row -->

                                <div class="row">
                                    <div class="col-md-6">
                                        <a onclick="runScript('enable-swap')" href="#swap-enable" class="btn btn-block btn-lg btn-dark">Enable 2GB swap-file&nbsp;<i class="fas fa-hdd"></i></a>
                                    </div><!-- /.col -->
                                    <div class="col">
                                        <a onclick="runScript('disable-swap')" href="#swap-disable" class="btn btn-block btn-lg btn-dark">Disable 2GB swap-file&nbsp;<i class="far fa-hdd"></i></a>
                                    </div>
                                </div><!-- /.col -->
                            </div><!-- row -->
                        </div><!-- container -->
                    </div>
                </div>
            </div>
        </div><!-- container -->

    <div class="container py-4">
        <div class="row">
            <div class="col-md-6">
                <h3>Power Off: <small>Safe shutdown of PiNode-XMR</small></h3>
                <a onclick="runScript('shutdown')" href="#Shutdown" class="btn btn-block btn-lg btn-warning">Shutdown PiNode-XMR&nbsp;<i class="fas fa-power-off"></i></a>
            </div>

            <div class="col-md-6">
                <h3>Device Restart: <small>Reboot of PiNode-XMR</small></h3>
                <a onclick="runScript('reboot')" href="#Reboot" class="btn btn-block btn-lg btn-warning">Reboot PiNode-XMR&nbsp;<i class="fas fa-rotate-right"></i></a>
            </div>

            <div class="col-md-6">
                <h3>Kill Switch: <small>unsafe shutdown of PiNode-XMR</small></h3>

                <a onclick="runScript('monerod-kill')" href="#Shutdown" class="btn btn-block btn-lg btn-danger">Kill Process - monerod&nbsp;&nbsp;<i class="fas fa-skull-crossbones"></i></a><br>

                <p class="text-center">If you suspect monerod is stuck and cannot recover itself or be recovered this button will send command<br>
                    <code>sudo killall -9 monerod</code><br>
                    Corruption of stored blockchain could occur, not to be used lightly.</p>
            </div><!-- col -->
        </div><!-- row -->

    </div><!-- /container -->

    <!-- JavaScript -->
    <script>
        function runScript(functionName) {
            $.ajax({
                url: `runScript.php?function=${functionName}`, //the page containing php script
                type: "POST", //request type
                success: function (result) {
                    alert(result);
                }
            });
        }
    </script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script> 
        $(function(){
            $("#NavContent").load("navbar.html"); 
        });
    </script>
</body>

</html>
